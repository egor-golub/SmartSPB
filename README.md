# Робот‑симулятор «Ресторан»

## Что это?
Простейший Pygame‑симулятор робота, перемещающегося по карте ресторана:
- поддержка команд из `commands.txt`;
- сетевое управление через TCP‑сервер (по умолчанию порт 5555);
- отключение коллизий у кухни и всех столов (можно включить обратно);
- (опционально) генерация маршрута из текста через Ollama LLM и Telegram‑бот.

Запуск (базовый режим)
# 1. Запуск симулятора (рисует карту, читает commands.txt)
python robot.py
Если commands.txt отсутствует, робот ждёт команды от TCP‑сервера.
Запуск планировщика + сеть
python main.py            # стартует сервер, ждёт подключения robot.py
# В отдельном терминале запустите robot.py
python robot.py
Команды планировщика:

--cell-size N – размер ячейки сетки (по‑умолчанию 50 px);
--route FILE – выполнить готовый JSON‑маршрут;
--no-ai – не обращаться к LLM (использовать только локальный парсер).
Генерация маршрута из текста (CLI)
python route_generator.py "От кухни к бару, потом к столу 1" -o my_route.json
Полученный файл можно передать в main.py через --route.

Известные названия точек (логические 0‑100)
кухня / kitchen      → (12,12)
бар / bar            → (50,6)
стол 1               → (35,27)
стол 2               → (55,27)
стол 3               → (35,54)
стол 4               → (55,54)
пиллар / pillar      → (68,70)
хранилище            → (80,20)
сад                  → (10,70)
центр / center       → (50,50)
начало / start       → (50,85)
Можно использовать любые регистры, пробелы или подчёркивания.

AI‑модель (Ollama)
ollama serve
ollama pull llama2          # или другая совместимая модель
Укажите модель в .env (переменная OLLAMA_MODEL).
Для отключения AI задайте OLLAMA_MODEL=disabled или используйте --no-ai.

Telegram‑бот (опционально)
Создайте бота у @BotFather и получите токен.
В корне проекта создайте .env:
TELEGRAM_BOT_TOKEN=your_token
OLLAMA_MODEL=llama2   # или disabled
Запустите:
python bot.py
Бот принимает любой текст, генерирует маршрут (LLM → fallback) и последовательно отправляет его роботу.

Как сократить проект
Если нужны только базовый симулятор и планировщик, можно удалить:

code_generator.py, ai_processor.py, astar_grid.py,
route_parser.py, route_generator.py (если не планируете генерировать маршруты),
bot.py, planner_core.py (Telegram‑бот).
Оставьте минимум:

robot.py
main.py
constants.py
grid_map.py
utils.py
requirements.txt
Лицензия
MIT – свободное использование и модификация.
